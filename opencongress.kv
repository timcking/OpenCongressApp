#:kivy 1.10

<ListScreen>:
    OpenCongress:
        id:open_congress

<DetailScreen>:
    txtName: txtName
    txtState: txtState
    txtParty: txtParty
    txtChamber: txtChamber
    txtVotes: txtVotes
    txtPhone: txtPhone
    txtAddress: txtAddress
    txtBirthday: txtBirthday

    lblWeb: lblWeb
    lblVoteSmart: lblVoteSmart
    lblGovTrack: lblGovTrack
    lblCrp: lblCrp

    canvas.before:
        Color:
            rgba: (0, 0, 128, .3)
        Rectangle:
            pos: self.pos
            size: self.size
    GridLayout:
        cols:1
        size: root.width, root.height

        BoxLayout:
            orientation: 'horizontal'
            anchor_x: 'center'
            size_hint_y: None
            height: dp(150)
            padding: [0, 10, 0, 0]
            rows: 1

            Label:
                id: txtName
                text: ""
                text_size: self.size
                font_size: "28sp"
                halign: 'right'
                valign: 'middle'
                padding_x: dp(10)

            AsyncImage:
                id: head_shot
                allow_stretch: True

        GridLayout:
            cols:2
            padding: [10, 10, 10, 10]
            spacing: dp(5)

            Label:
                text_size: self.size
                text: "State"
                halign: 'right'
                valign: 'middle'
                size_hint_y: None
                height: dp(32)
                size_hint_x: None
                width: dp(100)

            TextInput:
                id: txtState
                multiline:False
                size_hint_y: None
                height: dp(32)
                background_color: [128, 128, 128, .7]
                padding: [10, (self.height-self.line_height)/2]

            Label:
                text_size: self.size
                text: "Chamber"
                halign: 'right'
                valign: 'middle'
                size_hint_y: None
                height: dp(32)
                size_hint_x: None
                width: dp(100)

            TextInput:
                id: txtChamber
                multiline:False
                size_hint_y: None
                height: dp(32)
                background_color: [128, 128, 128, .7]
                padding: [10, (self.height-self.line_height)/2]

            Label:
                text_size: self.size
                text: "Party"
                halign: 'right'
                valign: 'middle'
                size_hint_y: None
                height: dp(32)
                size_hint_x: None
                width: dp(100)

            TextInput:
                id: txtParty
                multiline:False
                size_hint_y: None
                height: dp(32)
                background_color: [128, 128, 128, .7]
                padding: [10, (self.height-self.line_height)/2]

            Label:
                text_size: self.size
                text: "Missed Votes"
                halign: 'right'
                valign: 'middle'
                size_hint_y: None
                height: dp(32)
                size_hint_x: None
                width: dp(100)

            TextInput:
                id: txtVotes
                multiline:False
                size_hint_y: None
                height: dp(32)
                background_color: [128, 128, 128, .7]
                padding: [10, (self.height-self.line_height)/2]

            Label:
                text_size: self.size
                text: "Birthday"
                halign: 'right'
                valign: 'middle'
                size_hint_y: None
                height: dp(32)
                size_hint_x: None
                width: dp(100)

            TextInput:
                id: txtBirthday
                multiline:False
                size_hint_y: None
                height: dp(32)
                background_color: [128, 128, 128, .7]
                padding: [10, (self.height-self.line_height)/2]

            Label:
                text_size: self.size
                text: "Phone"
                halign: 'right'
                valign: 'middle'
                size_hint_y: None
                height: dp(32)
                size_hint_x: None
                width: dp(100)

            TextInput:
                id: txtPhone
                multiline:False
                size_hint_y: None
                height: dp(32)
                background_color: [128, 128, 128, .7]
                padding: [10, (self.height-self.line_height)/2]

            Label:
                text_size: self.size
                text: "Address"
                halign: 'right'
                valign: 'middle'
                size_hint_y: None
                height: dp(32)
                size_hint_x: None
                width: dp(100)

            TextInput:
                id: txtAddress
                multiline:False
                size_hint_y: None
                height: dp(32)
                background_color: [128, 128, 128, .7]
                padding: [10, (self.height-self.line_height)/2]

        BoxLayout:
            orientation: 'horizontal'
            spacing: dp(30)
            rows: 1
            
            Label:
                id: lblWeb
                text: "Web"
                markup: True
                underline: True

            Label:
                id: lblVoteSmart
                text: "VoteSmart"
                markup: True
                underline: True

            Label:
                id: lblGovTrack
                text: "GovTrack"
                markup: True
                underline: True

            Label:
                id: lblCrp
                text: "CRP"
                markup: True
                underline: True

        Button:
            id: button_detail
            text: 'Back'
            size_hint_y: None
            height: dp(60)
            on_press: root.manager.current = 'list'
            
<SelectableLabel>:
    canvas.before:
        Color:
            rgba: (128, 0, 128, .1) if self.selected else (128, 128, 128, .3)
        Rectangle:
            size: self.size
            pos: self.pos
    value: ''
    Label:
        text: root.value

<OpenCongress>:
    rvSenate: rvSenate
    rvHouse: rvHouse
    tabbed_panel: tabbed_panel
    # search_text: search_text
    orientation: 'vertical'

    # # TCK ToDo: Add search functionality
    # BoxLayout:
    #     orientation: 'horizontal'
    #     height: dp(30)
    #     size_hint_y: None
    #     rows: 1

    #     TextInput:
    #         id: search_text
    #         height: dp(30)
    #         hint_text: 'Search'
    #         size_hint_y: None
    #         multiline: False
    #         padding: dp(5), dp(5), 0, 0

    #     Button:
    #         id: button_search
    #         text: 'Search'
    #         size_hint_x: None
    #         width: dp(80)
    #         size_hint_y: None
    #         height: dp(30)
    #         on_press: root.searchChamber(search_text.text)

    #     Button:
    #         id: button_clear
    #         text: 'Clear'
    #         size_hint_x: None
    #         width: dp(80)
    #         size_hint_y: None
    #         height: dp(30)
    #         on_press: root.getChamberList(tabbed_panel.current_tab.text.lower())

    TabbedPanel:
        do_default_tab: False
        id: tabbed_panel

        TabbedPanelItem:
            text:"Senate"
            id: senate_panel

            RecycleView:
                id: rvSenate
                scroll_type: ['bars', 'content']
                scroll_wheel_distance: dp(128)
                bar_width: dp(10)
                viewclass: 'SelectableLabel'

                SelectableRecycleBoxLayout:
                    default_size: None, dp(56)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    spacing: dp(2)

        TabbedPanelItem:
            text:"House"
            id: house_panel

            RecycleView:
                id: rvHouse
                scroll_type: ['bars', 'content']
                scroll_wheel_distance: dp(128)
                bar_width: dp(10)
                viewclass: 'SelectableLabel'

                SelectableRecycleBoxLayout:
                    default_size: None, dp(56)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    spacing: dp(2)

BoxLayout:
    ScreenManager:
        id:sm
        ListScreen:
            name: 'list'
        DetailScreen:
            name: 'detail'

